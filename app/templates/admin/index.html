<!-- templates/admin/index.html -->
{% extends "admin/base.html" %}

{% block title %}–ê–¥–º–∏–Ω–∫–∞ ‚Äî NightMonopoly{% endblock %}

{% block content %}
<div class="admin-container">
  <h2>üõ†Ô∏è –ê–¥–º–∏–Ω–∫–∞</h2>
  <div class="alert alert-info">
    –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {{ 'Vladimirovich' }}.
  </div>

  <div class="row">
    <!-- –ú–µ–Ω—é -->
    <div class="col-md-3 mb-4">
      <div class="list-group">
        <a href="{{ url_for('main.admin_index') }}" class="list-group-item active">üè† –ì–ª–∞–≤–Ω–∞—è</a>
        <a href="{{ url_for('main.add_card') }}" class="list-group-item">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É</a>
        <a href="{{ url_for('main.add_penalty') }}" class="list-group-item">‚è±Ô∏è –î–æ–±–∞–≤–∏—Ç—å —à—Ç—Ä–∞—Ñ</a>
        <a href="{{ url_for('main.qr_generator') }}" class="list-group-item">üì± –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä QR-–∫–æ–¥–∞</a>
      </div>
    </div>

    <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="col-md-9">
      <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ -->
      <h4>üÉè –ö–∞—Ä—Ç–æ—á–∫–∏ ({{ cards|length }})</h4>
      <table class="table table-bordered table-sm">
        <thead>
          <tr>
            <th>–¢–µ–∫—Å—Ç</th>
            <th>–£—Ä.</th>
            <th>–û—Ä–∏–µ–Ω—Ç.</th>
            <th>–ö–æ–º–±–∏–Ω–∞—Ü–∏—è</th>
            <th>–¶–µ–ª—å</th>
            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
          </tr>
        </thead>
        <tbody>
          {% for card in cards %}
          <tr>
            <td>{{ card.text }}</td>
            <td>{{ card.level }}</td>
            <td>{{ card.orientation }}</td>
            <td>{{ card.gender_combo }}</td>
            <td>{{ card.target }}</td>
            <td>
              <a href="{{ url_for('main.edit_card', id=card.id) }}" class="btn btn-warning btn-sm">‚úèÔ∏è</a>
              <form action="{{ url_for('main.delete_card', id=card.id) }}" method="POST" style="display:inline;">
                <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å?')">üóëÔ∏è</button>
              </form>
            </td>
          </tr>
          {% else %}
          <tr>
            <td colspan="6" class="text-center text-muted">–ö–∞—Ä—Ç–æ—á–µ–∫ –Ω–µ—Ç</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      <!-- –®—Ç—Ä–∞—Ñ—ã -->
      <h4 class="mt-4">‚è±Ô∏è –®—Ç—Ä–∞—Ñ—ã ({{ penalties|length }})</h4>
      <table class="table table-bordered table-sm">
        <thead>
          <tr>
            <th>–¢–µ–∫—Å—Ç</th>
            <th>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (—Å)</th>
          </tr>
        </thead>
        <tbody>
          {% for p in penalties %}
          <tr>
            <td>{{ p.text }}</td>
            <td>{{ p.duration }}</td>
          </tr>
          {% else %}
          <tr>
            <td colspan="2" class="text-center text-muted">–®—Ç—Ä–∞—Ñ–æ–≤ –Ω–µ—Ç</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
