<!-- templates/players.html -->
<!DOCTYPE html>
<html>
<head>
  <title>–ò–≥—Ä–æ–∫–∏</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: 'Arial'; padding: 40px; background: #000; color: #fff; }
    .form { max-width: 600px; margin: 0 auto; }
    h2 { color: #e74c3c; }
    .player-group { margin: 15px 0; padding: 15px; background: #1a1a1a; border-radius: 10px; }
    input, select { width: 100%; padding: 10px; margin: 8px 0; border-radius: 5px; border: 1px solid #555; }
    button {
      padding: 10px 15px;
      margin: 5px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .add { background: #27ae60; color: white; }
    .remove { background: #e74c3c; color: white; }
    .submit { background: #e74c3c; color: white; padding: 12px 24px; font-weight: bold; }
    .hidden { display: none; }
  </style>
</head>
<body>
  <div class="form">
    <h2>üë• –î–æ–±–∞–≤—å—Ç–µ –∏–≥—Ä–æ–∫–æ–≤</h2>
    <form method="POST">
      <div id="players-container">
        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ–º—ã–µ –∏–≥—Ä–æ–∫–∏ -->
      </div>

      <button type="button" class="add" onclick="addPlayer()">+ –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–∞</button>
      <br><br>
      <button type="submit" class="submit">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
    </form>
  </div>

  <script>
    const maxPlayers = 4;
    let playerCount = 0;

    function addPlayer() {
      if (playerCount >= maxPlayers) return;

      const container = document.getElementById('players-container');
      const div = document.createElement('div');
      div.className = 'player-group';
      div.innerHTML = `
        <input type="text" name="player" placeholder="–ò–º—è" required pattern=".{1,20}" title="1-20 —Å–∏–º–≤–æ–ª–æ–≤" />
        <select name="player" required>
          <option value="">–ü–æ–ª</option>
          <option value="–ü–∞—Ä–µ–Ω—å">–ü–∞—Ä–µ–Ω—å</option>
          <option value="–î–µ–≤—É—à–∫–∞">–î–µ–≤—É—à–∫–∞</option>
          <option value="–õ—é–±–æ–π">–õ—é–±–æ–π</option>
        </select>
        <select name="player" required>
          <option value="">–û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è</option>
          <option value="–ì–µ—Ç–µ—Ä–æ">–ì–µ—Ç–µ—Ä–æ</option>
          <option value="–ë–∏">–ë–∏</option>
          <option value="–õ–µ—Å–±–∏">–õ–µ—Å–±–∏</option>
          <option value="–î—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
          <option value="–õ—é–±–∞—è">–õ—é–±–∞—è</option>
        </select>
        <button type="button" class="remove" onclick="removePlayer(this)">–£–¥–∞–ª–∏—Ç—å</button>
      `;
      container.appendChild(div);
      playerCount++;

      if (playerCount >= maxPlayers) {
        document.querySelector('.add').classList.add('hidden');
      }
    }

    function removePlayer(btn) {
      btn.parentElement.remove();
      playerCount--;
      if (playerCount < maxPlayers) {
        document.querySelector('.add').classList.remove('hidden');
      }
    }

    // –î–æ–±–∞–≤–ª—è–µ–º –æ–¥–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    window.onload = function() {
      addPlayer();
    };
  </script>
</body>
</html>